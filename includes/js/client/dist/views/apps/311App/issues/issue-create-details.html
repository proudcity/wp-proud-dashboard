<search></search>
<ol class="breadcrumb clean">
  <li>
    <a href="" ui-sref="city.report" main-toggle="slide-left"><i class="fa fa-th"></i></a>
  </li>
  <li>
    <a href="" main-toggle-nest="1" main-toggle="slide-left"><i class="fa fa-map-marker"></i></a>
  </li>
  <li class="active">
    <i class="fa fa-file-text-o"></i>Provide details
  </li>
</ol>

<form role="form" ng-submit="submit(form);">
  <div class="container-flud">
    <div class="form-group row">
      <label class="control-label col-sm-2" for="email">Category:</label>
      <div class="col-sm-10">
        <strong>{{form.category}}</strong>
      </div>
    </div>

    <div class="form-group row" ng-if="form.address">
      <label class="control-label col-sm-2" for="email">Address:</label>
      <div class="col-sm-10">
        <strong>{{form.address}}</strong>
      </div>
    </div>

    <div class="row" ng-if="errors">
      <div class="col-sm-12">
        <div class="alert alert-danger" role="alert" ng-bind-html="errors"></div>
      </div>
    </div>

    <div class="form-group row" ng-repeat="field in fields" style="clear:both">
      <label class="control-label col-sm-2" for="{{field.primary_key}}">
        <span ng-if="field.question_type != 'note'">{{field.question}}</span>
        <span ng-if="field.response_required" class="required">*</span>
      </label>
      <div class="col-sm-10">
        <span ng-if="field.question_type == 'note'" class="description">{{field.question}}</span>
        <textarea ng-model="form.answers[field.primary_key]" rows="2" ng-if="field.question_type == 'textarea'"></textarea>
        <input type="{{field.question_type}}" ng-if="field.question_type != 'textarea' && field.question_type != 'note'" class="form-control" ng-model="form.answers[field.primary_key]">
      </div>
    </div>

    <div ng-if="form.guest">

      <div class="form-group row">
        <label class="control-label col-sm-2" for="name">Name:</label>
        <div class="col-sm-10">
          <input type="textfield" name="email" id="name" class="form-control" ng-model="form.name">
          <div class="description">This will be publicly visible</div>
        </div>
      </div>

      <div class="form-group row">
        <label class="control-label col-sm-2" for="email">Email:</label>
        <div class="col-sm-10">
          <input type="email" name="email" id="email" class="form-control" ng-model="form.email">
        </div>
      </div>

    </div> <!-- /if -->

    <div class="form-group row"> 
      <div class="col-sm-offset-2 col-sm-10">
        <button type="submit" class="btn btn-primary">{{submitLabel}}</button>&nbsp;&nbsp;
        <a ng-if="guestAllowed && !form.guest" href="" ng-click="toggleGuest($event)">Submit as Guest</a>
        <a ng-if="guestAllowed && form.guest" href="" ng-click="toggleGuest($event);submit(form);">SeeClickFix Account</a>
        <!--Note: This is an example form that will not actually submit-->
      </div>
    </div>

  </div>
</form>

<div main-toggle="slide-left" main-toggle-nest="1" main-toggle-force="add" main-toggle-enter="true"></div>